<div class="login-container">
  <!-- Left Section - Promotional Content -->
  <div class="left-section">
    <div class="promotional-content">
      <div class="mobile-app-display">
        <div class="phone-mockup">
          <div class="phone-screen">
            <div class="app-header">
              <div class="app-logo">NeoBank</div>
              <div class="app-status">Internet Banking</div>
            </div>
            <div class="app-content">
              <div class="welcome-message">Hi, Welcome!</div>
              <div class="pin-section">
                <label>Enter M-PIN</label>
                <div class="pin-inputs">
                  <input type="password" maxlength="1" class="pin-box">
                  <input type="password" maxlength="1" class="pin-box">
                  <input type="password" maxlength="1" class="pin-box">
                  <input type="password" maxlength="1" class="pin-box">
                </div>
              </div>
              <div class="quick-actions">
                <div class="action-item">Quick Balance</div>
                <div class="action-item">Internet Banking</div>
                <div class="action-item">Trouble Logging In?</div>
              </div>
              <div class="products-section">
                <div class="product-item">Savings A/C</div>
                <div class="product-item">Loans</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="promotional-text">
        <h1>Pay, Save, Borrow  money with a single bank</h1>
        <p>Login to experience the new world of banking</p>
        
      </div>
    </div>
    
    <div class="background-waves">
      <div class="wave wave-1"></div>
      <div class="wave wave-2"></div>
    </div>
  </div>

  <!-- Right Section - Login/Signup Form -->
  <div class="right-section">
    <div class="login-card">
      <!-- NeoBank Branding -->
      <div class="branding-section">
        <div class="brand-logo-container">
          <img src="/favicon.ico" alt="NeoBank Logo" class="brand-logo">
          <h1 class="brand-name">NEOBANK</h1>
        </div>
        <p class="brand-tagline">Your Digital Banking Partner</p>
      </div>

      <!-- Tabs -->
      <div class="tab-container">
        <button class="tab-button active" (click)="switchToLogin()">LOGIN</button>
        <button class="tab-button" (click)="switchToSignup()">SIGNUP</button>
      </div>

      <!-- Login Form -->
      <div *ngIf="currentPage === 'login'" class="form-content">
        <div class="login-options">
          <button class="login-option active">USER/GMAIL ID</button>
          <button type="button" class="login-option qr-option" (click)="generateQrCode()" *ngIf="!showQrCode && !isQrLoginMode">
            üì± QR CODE LOGIN
          </button>
        </div>

        <!-- QR Code Display -->
        <div *ngIf="showQrCode" class="qr-code-section">
          <div class="qr-code-container">
            <h3>Scan QR Code with Mobile</h3>
            <img [src]="qrCodeImage" alt="QR Code" class="qr-code-image" *ngIf="qrCodeImage">
            <p class="qr-instruction">Scan this QR code with your mobile device to login</p>
            <p class="qr-status" *ngIf="qrStatus === 'PENDING'">Waiting for scan...</p>
            <p class="qr-status scanned" *ngIf="qrStatus === 'SCANNED'">QR code scanned! Please complete login on mobile.</p>
            <button type="button" class="close-qr-btn" (click)="closeQrCode()">Close QR Code</button>
          </div>
        </div>

        <!-- QR Login Mode Indicator -->
        <div *ngIf="isQrLoginMode" class="qr-login-mode-indicator">
          <p class="qr-mode-text">üì± QR Code Login Mode</p>
          <p class="qr-mode-subtext">Please enter your credentials to complete login</p>
        </div>

        <form (ngSubmit)="login()" class="login-form" *ngIf="!showOtpInput && !showQrCode">
          <div class="input-group">
            <label>USERID/GMAILID</label>
            <input type="text" [(ngModel)]="loginUserId" name="loginUserId" placeholder="Enter an User or Gmail ID" required />
          </div>

          <div class="input-group">
            <label>Password</label>
            <input type="password" [(ngModel)]="loginPassword" name="loginPassword" placeholder="Enter Password" required />
            <div class="forgot-password-link">
              <a href="javascript:void(0)" (click)="showForgotPasswordModal()" class="forgot-link">Forgot Password?</a>
            </div>
          </div>

          <button type="submit" class="secure-login-btn">
            <span class="lock-icon">üîí</span>
            Secure Login
          </button>
        </form>

        <!-- OTP Verification Form -->
        <div *ngIf="showOtpInput" class="otp-verification-section">
          <div class="otp-header">
            <h3>Enter OTP</h3>
            <p class="otp-instruction">We've sent a 6-digit OTP to your email address. Please enter it below to complete your login.</p>
          </div>

          <form (ngSubmit)="verifyOtp()" class="otp-form">
            <div class="input-group">
              <label>Enter OTP</label>
              <input 
                type="text" 
                [(ngModel)]="otpCode" 
                name="otpCode" 
                placeholder="Enter 6-digit OTP" 
                maxlength="6" 
                pattern="[0-9]{6}"
                required 
                class="otp-input"
                autocomplete="off"
              />
              <div class="otp-help-text">
                <span>Check your email for the OTP code</span>
              </div>
            </div>

            <div class="otp-actions">
              <button type="button" class="cancel-otp-btn" (click)="cancelOtpVerification()" [disabled]="verifyingOtp">
                Cancel
              </button>
              <button type="submit" class="verify-otp-btn" [disabled]="verifyingOtp || !otpCode || otpCode.length !== 6">
                <span *ngIf="verifyingOtp" class="loading-icon">‚è≥</span>
                <span *ngIf="!verifyingOtp">‚úì</span>
                {{ verifyingOtp ? 'Verifying...' : 'Verify OTP' }}
              </button>
            </div>

            <div class="resend-otp-section">
              <p class="resend-text">Didn't receive the OTP?</p>
              <button type="button" class="resend-otp-btn" (click)="resendOtp()" [disabled]="resendingOtp">
                <span *ngIf="resendingOtp" class="loading-icon">‚è≥</span>
                {{ resendingOtp ? 'Sending...' : 'Resend OTP' }}
              </button>
            </div>
          </form>
        </div>

        <!-- Account Unlock Button -->
        <div class="unlock-section" *ngIf="showUnlockButton">
          <button type="button" class="unlock-account-btn" (click)="showUnlockModal = true">
            <span class="unlock-icon">üîì</span>
            Unlock Account
          </button>
          <p class="unlock-description">Account locked? Use your Aadhar and DOB to unlock.</p>
        </div>

        <!-- Error/Success Messages -->
        <div class="message-section" *ngIf="errorMessage || successMessage">
          <div class="error-message" *ngIf="errorMessage">
            <span class="error-icon">‚ö†Ô∏è</span>
            {{ errorMessage }}
          </div>
          <div class="success-message" *ngIf="successMessage">
            <span class="success-icon"></span>
            {{ successMessage }}
          </div>
        </div>

      </div>

      <!-- Signup Form -->
      <div *ngIf="currentPage === 'signup'" class="form-content">
        <form (ngSubmit)="createAccount()" class="signup-form">
          <div class="input-group">
            <label>Full Name</label>
            <input type="text" [(ngModel)]="signupName" name="signupName" placeholder="Enter Full Name" required />
          </div>

          <div class="input-group">
            <label>Email Address</label>
            <input type="email" [(ngModel)]="signupEmail" name="signupEmail" placeholder="Enter Email Address" required />
          </div>

          <div class="input-group">
            <label>Mobile Number</label>
            <input type="tel" [(ngModel)]="signupMobile" name="signupMobile" placeholder="Enter Mobile Number" required />
          </div>

          <div class="input-group">
            <label>Create Password</label>
            <input type="password" [(ngModel)]="signupPassword" name="signupPassword" placeholder="Create Password" required />
          </div>

          <div class="input-group">
            <label>Confirm Password</label>
            <input type="password" [(ngModel)]="confirmPassword" name="confirmPassword" placeholder="Confirm Password" required />
          </div>

          <div class="terms-section">
            <label class="terms-label">
              <input type="checkbox" [(ngModel)]="termsAccepted" name="termsAccepted" required />
              <span class="terms-text">I agree to the <a href="#" class="terms-link">Terms & Conditions</a> and <a href="#" class="terms-link">Privacy Policy</a></span>
            </label>
          </div>

          <button type="submit" class="secure-login-btn">
            <span class="lock-icon">üîí</span>
            Create Account
          </button>
        </form>

        <div class="signup-footer">
          <p>Already have an account? <a href="#" (click)="switchToLogin()" class="login-link">Login here</a></p>
        </div>
      </div>
    </div>

    <!-- Fraud Prevention Tips -->
    <div class="fraud-tips-card">
      <div class="fraud-header">
        <div class="fraud-icon">üõ°Ô∏è</div>
        <h3>Fraud Prevention Tips</h3>
      </div>
      <div class="fraud-tips">
        <div class="tip-item">
          <div class="tip-icon">üîê</div>
          <div class="tip-content">
            <div class="tip-title">Never Share OTP</div>
            <div class="tip-description">NeoBank will never ask for your OTP via call, SMS, or email</div>
          </div>
        </div>
        <div class="tip-item">
          <div class="tip-icon">üí≥</div>
          <div class="tip-content">
            <div class="tip-title">Protect Card Details</div>
            <div class="tip-description">Never share CVV, card number, or PIN with anyone</div>
          </div>
        </div>
        <div class="tip-item">
          <div class="tip-icon">üì±</div>
          <div class="tip-content">
            <div class="tip-title">Secure Devices</div>
            <div class="tip-description">Always log out from shared computers and keep devices updated</div>
          </div>
        </div>
        <div class="tip-item">
          <div class="tip-icon">üö´</div>
          <div class="tip-content">
            <div class="tip-title">Verify Transactions</div>
            <div class="tip-description">Always verify transaction details before confirming payments</div>
          </div>
        </div>
      </div>
      <div class="fraud-warning">
        <div class="warning-icon">‚ö†Ô∏è</div>
        <div class="warning-text">
          <strong>Fraud Alert:</strong> If you receive suspicious calls or emails claiming to be from NeoBank, report immediately to our fraud helpline.
        </div>
      </div>
    </div>
  </div>

  <!-- Account Unlock Modal -->
  <div class="modal-overlay" *ngIf="showUnlockModal" (click)="closeUnlockModal()">
    <div class="unlock-modal" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3><span class="unlock-icon">üîì</span> Unlock Account</h3>
        <button class="close-btn" (click)="closeUnlockModal()">√ó</button>
      </div>
      
      <div class="modal-body">
        <p class="unlock-instructions">
          Your account has been locked due to multiple failed login attempts. 
          To unlock your account, please provide the following information:
        </p>
        
        <form (ngSubmit)="unlockAccount()" class="unlock-form">
          <div class="input-group">
            <label>Email Address</label>
            <input type="email" [(ngModel)]="unlockEmail" name="unlockEmail" 
                   placeholder="Enter your registered email" required />
          </div>
          
          <div class="input-group">
            <label>First 4 Digits of Aadhar Number</label>
            <input type="text" [(ngModel)]="unlockAadharFirst4" name="unlockAadharFirst4" 
                   placeholder="Enter first 4 digits" maxlength="4" pattern="[0-9]{4}" required />
            <div class="input-help">
              <span class="help-text">Enter only the first 4 digits of your Aadhar number</span>
            </div>
          </div>
          
          <div class="input-group">
            <label>Date of Birth</label>
            <input type="date" [(ngModel)]="unlockDob" name="unlockDob" required />
            <div class="input-help">
              <span class="help-text">Enter date of birth as registered in your account</span>
            </div>
          </div>
          
          <div class="unlock-actions">
            <button type="button" class="cancel-btn" (click)="closeUnlockModal()">Cancel</button>
            <button type="submit" class="unlock-submit-btn" [disabled]="unlockingAccount">
              <span *ngIf="unlockingAccount" class="loading-icon">‚è≥</span>
              <span *ngIf="!unlockingAccount" class="unlock-icon">üîì</span>
              {{ unlockingAccount ? 'Unlocking...' : 'Unlock Account' }}
            </button>
          </div>
        </form>
        
        <div class="unlock-footer">
          <p class="security-note">
            <span class="security-icon">üõ°Ô∏è</span>
            Your information is secure and encrypted. We use this data only for account verification.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Forgot Password Modal -->
  <div class="modal-overlay" *ngIf="showForgotPasswordModalFlag" (click)="closeForgotPasswordModal()">
    <div class="modal-content forgot-password-modal" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3>üîê Reset Password</h3>
        <button class="close-btn" (click)="closeForgotPasswordModal()">√ó</button>
      </div>
      
      <div class="modal-body">
        <!-- Success Screen -->
        <div *ngIf="showResetSuccessScreen" class="success-screen">
          <div class="success-icon-container">
            <div class="success-icon"></div>
          </div>
          <h3 class="success-title">Password Reset Successful!</h3>
          <p class="success-message">
            Your password has been successfully reset. You can now login with your new password.
          </p>
          <div class="success-actions">
            <button type="button" class="success-btn" (click)="closeSuccessScreen()">
              <span class="login-icon"></span>
              Continue to Login
            </button>
          </div>
        </div>

        <!-- Reset Form -->
        <div *ngIf="!showResetSuccessScreen">
          <p class="instruction-text">
            Choose a verification method to reset your password.
          </p>
          
          <!-- Verification Method Selection -->
          <div class="verification-method-selection">
            <label class="method-label">Verification Method:</label>
            <div class="method-options">
              <label class="method-option">
                <input 
                  type="radio" 
                  name="resetVerificationMethod" 
                  [(ngModel)]="resetVerificationMethod" 
                  value="email" 
                  (change)="onVerificationMethodChange()"
                />
                <span class="method-text">Email OTP</span>
              </label>
              <label class="method-option">
                <input 
                  type="radio" 
                  name="resetVerificationMethod" 
                  [(ngModel)]="resetVerificationMethod" 
                  value="aadhar" 
                  (change)="onVerificationMethodChange()"
                />
                <span class="method-text">Aadhar Verification</span>
              </label>
            </div>
          </div>
          
          <form (ngSubmit)="resetPassword()" class="reset-form">
            <div class="form-row">
              <div class="input-group">
                <label>Email Address</label>
                <input type="email" [(ngModel)]="resetEmail" name="resetEmail" placeholder="Enter your email address" required />
              </div>
            </div>
            
            <!-- Email OTP Verification -->
            <div *ngIf="resetVerificationMethod === 'email'" class="email-otp-section">
              <div class="form-row" *ngIf="!showResetOtpInput">
                <div class="input-group">
                  <button type="button" class="send-otp-btn" (click)="sendResetOtp()" [disabled]="sendingResetOtp || !resetEmail">
                    <span *ngIf="sendingResetOtp" class="loading-icon">‚è≥</span>
                    <span *ngIf="!sendingResetOtp">üìß</span>
                    {{ sendingResetOtp ? 'Sending OTP...' : 'Send OTP to Email' }}
                  </button>
                  <div class="input-help">
                    <span class="help-text">Click the button to receive an OTP via email</span>
                  </div>
                </div>
              </div>
              
              <div class="form-row" *ngIf="showResetOtpInput">
                <div class="input-group">
                  <label>Enter OTP</label>
                  <input 
                    type="text" 
                    [(ngModel)]="resetOtp" 
                    name="resetOtp" 
                    placeholder="Enter 6-digit OTP" 
                    maxlength="6" 
                    pattern="[0-9]{6}" 
                    required 
                    class="otp-input"
                  />
                  <div class="input-help">
                    <span class="help-text">Enter the 6-digit OTP sent to your email</span>
                    <button type="button" class="resend-otp-link" (click)="resendResetOtp()" [disabled]="sendingResetOtp">
                      {{ sendingResetOtp ? 'Sending...' : 'Resend OTP' }}
                    </button>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Aadhar Verification -->
            <div *ngIf="resetVerificationMethod === 'aadhar'" class="aadhar-verification-section">
              <div class="form-row">
                <div class="input-group">
                  <label>First 4 digits of Aadhar Number</label>
                  <input 
                    type="text" 
                    [(ngModel)]="resetAadharFirst4" 
                    name="resetAadharFirst4" 
                    placeholder="Enter first 4 digits" 
                    maxlength="4" 
                    pattern="[0-9]{4}" 
                    required 
                  />
                  <div class="input-help">
                    <span class="help-text">Enter only the first 4 digits of your 12-digit Aadhar number</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="form-row">
              <div class="input-group">
                <label>New Password</label>
                <input type="password" [(ngModel)]="newPassword" name="newPassword" placeholder="Enter new password" required />
              </div>
            </div>
            
            <div class="form-row">
              <div class="input-group">
                <label>Confirm New Password</label>
                <input type="password" [(ngModel)]="confirmNewPassword" name="confirmNewPassword" placeholder="Confirm new password" required />
              </div>
            </div>
            
            <!-- Success Message -->
            <div *ngIf="successMessage && !errorMessage" class="success-message">
              <span class="success-icon">‚úì</span>
              {{ successMessage }}
            </div>
            
            <!-- Error Message -->
            <div *ngIf="errorMessage" class="error-message">
              <span class="error-icon">‚ùå</span>
              {{ errorMessage }}
            </div>
            
            <div class="modal-actions">
              <button type="button" class="cancel-btn" (click)="closeForgotPasswordModal()">Cancel</button>
              <button 
                type="submit" 
                class="reset-submit-btn" 
                [disabled]="resettingPassword || (resetVerificationMethod === 'email' && !showResetOtpInput)"
              >
                <span *ngIf="resettingPassword" class="loading-icon">‚è≥</span>
                <span *ngIf="!resettingPassword">‚úì</span>
                {{ resettingPassword ? 'Resetting...' : 'Reset Password' }}
              </button>
            </div>
          </form>
        </div>
        
        <div class="reset-footer">
          <p class="security-note">
            <span class="security-icon">üõ°Ô∏è</span>
            Your information is secure and encrypted. We use this data only for password reset verification.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>